{"name": "test_login_daiban", "status": "broken", "statusDetails": {"message": "FileNotFoundError: [Errno 2] No such file or directory: './daiban2.png'", "trace": "self = <test_pytest.test_daiban.Testdaiban object at 0x00000000037F04E0>\n\n    @allure.story(\"使用获取到的cookie进行登录\")\n    \n    def test_login_daiban(self):\n        time.sleep(3)\n        s = requests.session()  #:维持会话,可以让我们在跨请求时保存某些参数\n        jar=RequestsCookieJar()  #设置cookie，用来获取cookie\n        with open(\"daiban.yml\") as f:\n            self.cookies = yaml.safe_load(f)\n        for cookie in self.cookies:\n            self.driver.add_cookie(cookie)\n            jar.set(cookie['name'],cookie['value'])  #通过selenium来获取cookie\n        print(jar)\n        time.sleep(2)\n        self.driver.get(\"http://bpmmarket.sangfor.com/Home/Index\")\n        self.driver.refresh()\n        self.driver.implicitly_wait(3)\n        self.driver.get_screenshot_as_file(\"./daiban.png\")  #获取图片到本地\n        allure.attach.file(\"./daiban.png\",name=\"登陆后截图\",attachment_type=allure.attachment_type.JPG)\n        self.res = s.get(url=\"http://bpmmarket.sangfor.com/DataList/DZ_RJDZDataList\",cookies=jar)   #session用来get会话\n>       allure.attach.file(\"./daiban2.png\",name=\"点击定制待办的截图\",attachment_type=allure.attachment_type.JPG)\n\ntest_daiban.py:67: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\allure_commons\\_allure.py:182: in file\n    plugin_manager.hook.attach_file(source=source, name=name, attachment_type=attachment_type, extension=extension)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pluggy\\hooks.py:286: in __call__\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pluggy\\manager.py:93: in _hookexec\n    return self._inner_hookexec(hook, methods, kwargs)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pluggy\\manager.py:87: in <lambda>\n    firstresult=hook.spec.opts.get(\"firstresult\") if hook.spec else False,\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\allure_pytest\\listener.py:226: in attach_file\n    self.allure_logger.attach_file(uuid4(), source, name=name, attachment_type=attachment_type, extension=extension)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\allure_commons\\reporter.py:114: in attach_file\n    plugin_manager.hook.report_attached_file(source=source, file_name=file_name)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pluggy\\hooks.py:286: in __call__\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pluggy\\manager.py:93: in _hookexec\n    return self._inner_hookexec(hook, methods, kwargs)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pluggy\\manager.py:87: in <lambda>\n    firstresult=hook.spec.opts.get(\"firstresult\") if hook.spec else False,\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\allure_commons\\logger.py:53: in report_attached_file\n    shutil.copy2(source, destination)\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\shutil.py:257: in copy2\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsrc = './daiban2.png', dst = 'D:\\\\pytestproject\\\\test_pytest\\\\result\\\\testdaiban\\\\8f168987-6abc-430d-815f-021ffb85c432-attachment.jpg'\n\n    def copyfile(src, dst, *, follow_symlinks=True):\n        \"\"\"Copy data from src to dst.\n    \n        If follow_symlinks is not set and src is a symbolic link, a new\n        symlink will be created instead of copying the file it points to.\n    \n        \"\"\"\n        if _samefile(src, dst):\n            raise SameFileError(\"{!r} and {!r} are the same file\".format(src, dst))\n    \n        for fn in [src, dst]:\n            try:\n                st = os.stat(fn)\n            except OSError:\n                # File most likely does not exist\n                pass\n            else:\n                # XXX What about other special files? (sockets, devices...)\n                if stat.S_ISFIFO(st.st_mode):\n                    raise SpecialFileError(\"`%s` is a named pipe\" % fn)\n    \n        if not follow_symlinks and os.path.islink(src):\n            os.symlink(os.readlink(src), dst)\n        else:\n>           with open(src, 'rb') as fsrc:\nE           FileNotFoundError: [Errno 2] No such file or directory: './daiban2.png'\n\nc:\\users\\user\\appdata\\local\\programs\\python\\python36\\lib\\shutil.py:120: FileNotFoundError"}, "attachments": [{"name": "登陆后截图", "source": "f75ed6cf-1cc6-40dd-b2d9-e5185956c803-attachment.jpg", "type": "image/jpg"}, {"name": "点击定制待办的截图", "source": "8f168987-6abc-430d-815f-021ffb85c432-attachment.jpg", "type": "image/jpg"}], "start": 1617346729173, "stop": 1617346739733, "uuid": "095a43f3-9160-4de1-adc6-0e5add1de632", "historyId": "d6bd1d0d2d8a7c5bec3e30440b84dc17", "testCaseId": "6c650ae3e522ee1b41663684964b9d29", "fullName": "test_daiban.Testdaiban#test_login_daiban", "labels": [{"name": "story", "value": "使用获取到的cookie进行登录"}, {"name": "suite", "value": "test_daiban"}, {"name": "subSuite", "value": "Testdaiban"}, {"name": "host", "value": "SSLT-0046"}, {"name": "thread", "value": "14020-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_daiban"}]}